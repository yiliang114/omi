{"version":3,"sources":["utils/omis.js","utils/css.js","webpack:///./src/components/game/_index.css?6b5f","components/game/_index.css","webpack:///./src/components/index/_index.css?8dfb","components/index/_index.css","components/game/index.js","models/snake.js","stores/index.js","models/game.js","components/index/index.js","index.js"],"names":["obaa","target","arr","callback","eventPropArr","prop","isArray","length","__o_","__r_","__p_","mock","hasOwnProperty","isInArray","push","watch","__c_","propChanged","all","triggerStr","join","methods","root","forEach","item","old","Array","prototype","slice","call","this","result","apply","arguments","RegExp","test","cprop","isFunction","onPropertyChanged","substring","toUpperCase","path","undefined","currentValue","Object","defineProperty","get","set","value","configurable","enumerable","oldValue","nan","rootName","split","getRootName","i","len","handler","indexOf","obj","toString","isNaN","getPath","tempPath","keys","data","key","type","_objToPath","_arrayToPath","dataToPath","getUpdatePath","index","needUpdate","diffResult","updatePath","keyA","keyB","includePath","pathA","pathB","next","substr","add","size","components","updateSelfComponents","isSelf","currentComponent","$","options","store","val","patch","mpPath","replace","Number","fixPath","component","__$updatePath_","setState","__$id_","state","__$updateSelfPath_","use","updateSelfPath","useSelf","_React$Component","_class2","props","instance","Constructor","TypeError","_classCallCheck","_this","self","ReferenceError","_possibleConstructorReturn","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_inherits","shouldComponentUpdate","render","React","Component","global","Math","window","getGlobal","omis","$v","Omis","version","css","style","document","createElement","textContent","a","b","innerWidth","querySelector","appendChild","module","exports","require","map","className","row","col","Snake","body","dir","eating","pop","unshift","game","loop","interval","paused","_preDate","Date","now","init","onTick","snake","j","makeFood","eat","move","mark","k","food","setInterval","tick","clearInterval","_rd","from","to","floor","random","start","pauseOrPlay","play","pause","turnUp","turnRight","turnDown","turnLeft","reset","toggleSpeed","onClick","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.e524efcf.chunk.js","sourcesContent":["/**\n * omis v2.0.0  https://tencent.github.io/omi/\n * Observable store system for JavaScript apps.\n * By dntzhang https://github.com/dntzhang\n * Github: https://github.com/Tencent/omi\n * MIT Licensed.\n */\n\nimport React from 'react';\n\nfunction obaa(target, arr, callback) {\n  var eventPropArr = [];\n  if (isArray(target)) {\n    if (target.length === 0) {\n      target.__o_ = {\n        __r_: target,\n        __p_: '#'\n      };\n    }\n    mock(target, target);\n  }\n  for (var prop in target) {\n    if (target.hasOwnProperty(prop)) {\n      if (callback) {\n        if (isArray(arr) && isInArray(arr, prop)) {\n          eventPropArr.push(prop);\n          watch(target, prop, null, target);\n        } else if (isString(arr) && prop === arr) {\n          eventPropArr.push(prop);\n          watch(target, prop, null, target);\n        }\n      } else {\n        eventPropArr.push(prop);\n        watch(target, prop, null, target);\n      }\n    }\n  }\n  if (!target.__c_) {\n    target.__c_ = [];\n  }\n  var propChanged = callback ? callback : arr;\n  target.__c_.push({\n    all: !callback,\n    propChanged: propChanged,\n    eventPropArr: eventPropArr\n  });\n}\n\nvar triggerStr = ['concat', 'copyWithin', 'fill', 'pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift', 'size'].join(',');\n\nvar methods = ['concat', 'copyWithin', 'entries', 'every', 'fill', 'filter', 'find', 'findIndex', 'forEach', 'includes', 'indexOf', 'join', 'keys', 'lastIndexOf', 'map', 'pop', 'push', 'reduce', 'reduceRight', 'reverse', 'shift', 'slice', 'some', 'sort', 'splice', 'toLocaleString', 'toString', 'unshift', 'values', 'size'];\n\nfunction mock(target, root) {\n  methods.forEach(function (item) {\n    target[item] = function () {\n      var old = Array.prototype.slice.call(this, 0);\n      var result = Array.prototype[item].apply(this, Array.prototype.slice.call(arguments));\n      if (new RegExp('\\\\b' + item + '\\\\b').test(triggerStr)) {\n        for (var cprop in this) {\n          if (this.hasOwnProperty(cprop) && !isFunction(this[cprop])) {\n            watch(this, cprop, this.__o_.__p_, root);\n          }\n        }\n        //todo\n        onPropertyChanged('Array-' + item, this, old, this, this.__o_.__p_, root);\n      }\n      return result;\n    };\n    target['pure' + item.substring(0, 1).toUpperCase() + item.substring(1)] = function () {\n      return Array.prototype[item].apply(this, Array.prototype.slice.call(arguments));\n    };\n  });\n}\n\nfunction watch(target, prop, path, root) {\n  if (prop === '__o_') return;\n  if (isFunction(target[prop])) return;\n  if (!target.__o_) target.__o_ = {\n    __r_: root\n  };\n  if (path !== undefined && path !== null) {\n    target.__o_.__p_ = path;\n  } else {\n    target.__o_.__p_ = '#';\n  }\n\n  var currentValue = target.__o_[prop] = target[prop];\n  Object.defineProperty(target, prop, {\n    get: function get() {\n      return this.__o_[prop];\n    },\n    set: function set(value) {\n      var old = this.__o_[prop];\n      this.__o_[prop] = value;\n      onPropertyChanged(prop, value, old, this, target.__o_.__p_, root);\n    },\n\n    configurable: true,\n    enumerable: true\n  });\n  if (typeof currentValue === 'object') {\n    if (isArray(currentValue)) {\n      mock(currentValue, root);\n      if (currentValue.length === 0) {\n        if (!currentValue.__o_) currentValue.__o_ = {};\n        if (path !== undefined && path !== null) {\n          currentValue.__o_.__p_ = path + '-' + prop;\n        } else {\n          currentValue.__o_.__p_ = '#-' + prop;\n        }\n      }\n    }\n    for (var cprop in currentValue) {\n      if (currentValue.hasOwnProperty(cprop)) {\n        watch(currentValue, cprop, target.__o_.__p_ + '-' + prop, root);\n      }\n    }\n  }\n}\n\nfunction onPropertyChanged(prop, value, oldValue, target, path, root) {\n  if (value !== oldValue && !(nan(value) && nan(oldValue)) && root.__c_) {\n    var rootName = getRootName(prop, path);\n    for (var i = 0, len = root.__c_.length; i < len; i++) {\n      var handler = root.__c_[i];\n      if (handler.all || isInArray(handler.eventPropArr, rootName) || rootName.indexOf('Array-') === 0) {\n        handler.propChanged.call(target, prop, value, oldValue, path);\n      }\n    }\n  }\n\n  if (prop.indexOf('Array-') !== 0 && typeof value === 'object') {\n    watch(target, prop, target.__o_.__p_, root);\n  }\n}\n\nfunction isFunction(obj) {\n  return Object.prototype.toString.call(obj) === '[object Function]';\n}\n\nfunction nan(value) {\n  return typeof value === 'number' && isNaN(value);\n}\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction isString(obj) {\n  return typeof obj === 'string';\n}\n\nfunction isInArray(arr, item) {\n  for (var i = arr.length; --i > -1;) {\n    if (item === arr[i]) return true;\n  }\n  return false;\n}\n\nfunction getRootName(prop, path) {\n  if (path === '#') {\n    return prop;\n  }\n  return path.split('-')[1];\n}\n\nobaa.add = function (obj, prop) {\n  watch(obj, prop, obj.__o_.__p_, obj.__o_.__r_);\n};\n\nobaa.set = function (obj, prop, value) {\n  watch(obj, prop, obj.__o_.__p_, obj.__o_.__r_);\n  obj[prop] = value;\n};\n\n//@ts-ignore\n/* eslint-disable */\nArray.prototype.size = function (length) {\n  this.length = length;\n};\n\nfunction getPath(obj) {\n  if (Object.prototype.toString.call(obj) === '[object Array]') {\n    var result = {};\n    obj.forEach(function (item) {\n      if (typeof item === 'string') {\n        result[item] = true;\n      } else {\n        var tempPath = item[Object.keys(item)[0]];\n        if (typeof tempPath === 'string') {\n          result[tempPath] = true;\n        } else if (typeof tempPath[0] === 'string') {\n          result[tempPath[0]] = true;\n        } else {\n          tempPath[0].forEach(function (path) {\n            return result[path] = true;\n          });\n        }\n      }\n    });\n    return result;\n  }\n  return getUpdatePath(obj);\n}\n\nfunction getUpdatePath(data) {\n  var result = {};\n  dataToPath(data, result);\n  return result;\n}\n\nfunction dataToPath(data, result) {\n  Object.keys(data).forEach(function (key) {\n    result[key] = true;\n    var type = Object.prototype.toString.call(data[key]);\n    if (type === '[object Object]') {\n      _objToPath(data[key], key, result);\n    } else if (type === '[object Array]') {\n      _arrayToPath(data[key], key, result);\n    }\n  });\n}\n\nfunction _objToPath(data, path, result) {\n  Object.keys(data).forEach(function (key) {\n    result[path + '.' + key] = true;\n    delete result[path];\n    var type = Object.prototype.toString.call(data[key]);\n    if (type === '[object Object]') {\n      _objToPath(data[key], path + '.' + key, result);\n    } else if (type === '[object Array]') {\n      _arrayToPath(data[key], path + '.' + key, result);\n    }\n  });\n}\n\nfunction _arrayToPath(data, path, result) {\n  data.forEach(function (item, index) {\n    result[path + '[' + index + ']'] = true;\n    delete result[path];\n    var type = Object.prototype.toString.call(item);\n    if (type === '[object Object]') {\n      _objToPath(item, path + '[' + index + ']', result);\n    } else if (type === '[object Array]') {\n      _arrayToPath(item, path + '[' + index + ']', result);\n    }\n  });\n}\n\nfunction needUpdate(diffResult, updatePath) {\n  for (var keyA in diffResult) {\n    if (updatePath[keyA]) {\n      return true;\n    }\n    for (var keyB in updatePath) {\n      if (includePath(keyA, keyB)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction includePath(pathA, pathB) {\n  if (pathA.indexOf(pathB) === 0) {\n    var next = pathA.substr(pathB.length, 1);\n    if (next === '[' || next === '.') {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction fixPath(path) {\n  var mpPath = '';\n  var arr = path.replace('#-', '').split('-');\n  arr.forEach(function (item, index) {\n    if (index) {\n      if (isNaN(Number(item))) {\n        mpPath += '.' + item;\n      } else {\n        mpPath += '[' + item + ']';\n      }\n    } else {\n      mpPath += item;\n    }\n  });\n  return mpPath;\n}\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar components = [];\nvar updateSelfComponents = [];\n\nvar isSelf = false;\nvar currentComponent = null;\n\nfunction $(options) {\n  if (options.store) {\n    $.store = options.store;\n    obaa($.store.data, function (prop, val, old, path) {\n      var patch = {};\n\n      patch[fixPath(path + '-' + prop)] = true;\n      components.forEach(function (component) {\n        if (component.__$updatePath_ && needUpdate(patch, component.__$updatePath_)) {\n          component.setState({ __$id_: component.state.__$id_++ });\n\n          isSelf = false;\n        }\n      });\n\n      updateSelfComponents.forEach(function (component) {\n        if (component.__$updateSelfPath_ && needUpdate(patch, component.__$updateSelfPath_)) {\n          component.setState({ __$id_: component.state.__$id_++ });\n          isSelf = true;\n          currentComponent = component;\n        }\n      });\n    });\n  }\n\n  var updatePath = options.use && getPath(options.use);\n  var updateSelfPath = options.useSelf && getPath(options.useSelf);\n\n  return function (_React$Component) {\n    _inherits(_class2, _React$Component);\n\n    function _class2(props) {\n      _classCallCheck(this, _class2);\n\n      var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n      _this.state = {\n        __$id_: 0\n      };\n\n      if (updatePath) {\n        components.push(_this);\n        _this.__$updatePath_ = updatePath;\n      }\n      if (updateSelfPath) {\n        updateSelfComponents.push(_this);\n        _this.__$updateSelfPath_ = updateSelfPath;\n      }\n      return _this;\n    }\n\n    _class2.prototype.shouldComponentUpdate = function shouldComponentUpdate() {\n      if (currentComponent === this) return true;\n      return !isSelf;\n    };\n\n    _class2.prototype.render = function render() {\n      return options.render.apply(this, arguments);\n    };\n\n    return _class2;\n  }(React.Component);\n}\n\nfunction $v(options) {}\n\nvar root = getGlobal();\n\nvar omis = {\n  $: $,\n  $v: $v\n};\n\nroot.Omis = omis;\nroot.omis = omis;\nroot.Omis.version = '2.0.0';\n\nfunction getGlobal() {\n  if (typeof global !== 'object' || !global || global.Math !== Math || global.Array !== Array) {\n    return self || window || global || function () {\n      return this;\n    }();\n  }\n  return global;\n}\n\nexport default omis;\nexport { $, $v };\n\n","export function add(css) {\n  const style = document.createElement('style')\n  style.textContent = rpx(css)\n  document.querySelector('head').appendChild(style)\n}\n\nfunction rpx(str) {\n  return str.replace(/([1-9]\\d*|0)(\\.\\d*)*rpx/g, (a, b) => {\n    return (window.innerWidth * Number(b)) / 750 + 'px'\n  })\n}\n","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./_index.css\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".game {\\n\\n  border: 2rpx solid #000;\\n  padding: 10rpx 0 5rpx 0;\\n  width: 725rpx;\\n  margin: 10rpx auto;\\n  background-color: #9ead86;\\n  text-align: center;\\n}\\n\\n.game p {\\n  width: 725rpx;\\n  height: 44rpx;\\n  white-space: nowrap;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n*{\\n  box-sizing: border-box;\\n}\\n\\n.game b {\\n  display: inline-block;\\n  width: 40rpx;\\n  height: 40rpx;\\n  padding: 4rpx;\\n  border: 4rpx solid #879372;\\n  margin: 0 4rpx 4rpx 0;\\n}\\n\\n.game b.s:after {\\n  background: #000;\\n}\\n\\n.game b:after {\\n  content: \\\"\\\";\\n  display: block;\\n  width: 24rpx;\\n  height: 24rpx;\\n  background: #879372;\\n  overflow: hidden;\\n}\\n\", \"\"]);\n\n","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./_index.css\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".r {\\n  float: right\\n}\\n\\n.l {\\n  float: left\\n}\\n\\n.clear {\\n  clear: both\\n}\\n\\n* {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none\\n}\\n\\nh1{\\n  text-align: center;\\n  font-size: 25px;\\n}\\n\\n.ctrl {\\n  width: 580rpx;\\n  height: 330rpx;\\n  margin: 20rpx auto 0;\\n  position: relative\\n}\\n\\n.btn {\\n  text-align: center;\\n  color: #111;\\n  position: absolute;\\n  white-space: nowrap;\\n  line-height: 1.6\\n}\\n\\n.btn.small {\\n  font-size: 16rpx\\n}\\n\\n\\n\\n.btn i {\\n  display: block;\\n  position: relative;\\n  border: 1rpx solid #000;\\n  border-radius: 50%;\\n  box-shadow: 0 3rpx 3rpx rgba(0, 0, 0, .2)\\n}\\n\\n.btn i:after,\\n.btn i:before {\\n  content: \\\"\\\";\\n  display: block;\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  border-radius: 50%;\\n  box-shadow: inset 0 5rpx 10rpx hsla(0, 0%, 100%, .8)\\n}\\n\\n.btn i:after {\\n  box-shadow: inset 0 -5rpx 10rpx rgba(0, 0, 0, .8)\\n}\\n\\n.btn i._23aw:before {\\n  box-shadow: inset 0 -3rpx 6rpx hsla(0, 0%, 100%, .6)\\n}\\n\\n.btn i._23aw:after {\\n  box-shadow: inset 0 5rpx 5rpx rgba(0, 0, 0, .6)\\n}\\n\\n.btn.cm-btn i {\\n  background: #5a65f1;\\n  background: -moz-linear-gradient(top, #6e77ef, #6e77ef)\\n}\\n\\n.btn.pp i {\\n  background: #2dc421;\\n  background: -moz-linear-gradient(top, #4bc441, #4bc441)\\n}\\n\\n.btn.reset i {\\n  background: #dd1a1a;\\n  background: -moz-linear-gradient(top, #dc3333, #dc3333)\\n}\\n\\n.btn.space i {\\n  width: 160rpx;\\n  height: 160rpx\\n}\\n\\n\\n.btn i:active {\\n  transform: scale(0.9);\\n}\\n\\n\\n.btn.cm-btn-dir i {\\n  width: 100rpx;\\n  height: 100rpx\\n}\\n\\n.btn.small i {\\n  width: 52rpx;\\n  height: 52rpx;\\n  box-shadow: 1rpx 1rpx 1rpx rgba(0, 0, 0, .2)\\n}\\n\\n.btn.small i:after,\\n.btn.small i:before {\\n  box-shadow: inset 0 3rpx 6rpx hsla(0, 0%, 100%, .8)\\n}\\n\\n.btn.small i:after {\\n  box-shadow: inset 0 -3rpx 6rpx rgba(0, 0, 0, .8)\\n}\\n\\n.btn.small i._23aw:before {\\n  box-shadow: inset 0 -1rpx 2rpx hsla(0, 0%, 100%, .6)\\n}\\n\\n.btn.small i._23aw:after {\\n  box-shadow: inset 0 3rpx 3rpx rgba(0, 0, 0, .7)\\n}\\n\\n.btn.cm-btn-dir em {\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border: 8rpx solid;\\n  border-color: transparent transparent #111;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  margin: -18rpx 0 0 -8rpx\\n}\\n\\n\\n.up {\\n  top: 0rpx; \\n  left: 374rpx;\\n}\\n\\n.up em{\\n  transform: translate(0rpx, 70rpx) scale(1, 2);\\n}\\n\\n\\n.up span {\\n  position: absolute;\\n  top: 5rpx;\\n  left: 102rpx\\n}\\n\\n.down{\\n  top: 180rpx; \\n  left: 374rpx;\\n}\\n\\n.down em{\\n  transform: translate(0rpx, -71rpx) rotate(180deg) scale(1, 2);\\n}\\n\\n.left{\\n  top: 90rpx; \\n  left: 284rpx;\\n}\\n\\n.left em{\\n  transform: translate(60rpx, -12rpx) rotate(270deg) scale(1, 2);\\n}\\n\\n.right{\\n  top: 90rpx; left: 464rpx;\\n}\\n\\n.right em{\\n  transform: translate(-60rpx, -12rpx) rotate(90deg) scale(1, 2);\\n}\\n\\n.space{\\n  top: 100rpx; \\n  left: 52rpx;\\n}\\n\\n.reset{\\n  top: 0rpx; \\n  left: 156rpx;\\n}\\n\\n.pp{\\n  top: 0rpx; \\n  left: 60rpx;\\n}\\n\", \"\"]);\n\n","import React from 'react'\nimport { $ } from '../../utils/omis'\n\nrequire('../../utils/css').add(require('./_index.css'))\n\nexport default $({\n  render() {\n    const { map } = $.store.data\n    return <div className=\"game\">\n      {map.map(row => {\n        return <p>\n          {row.map(col => {\n            if (col) {\n              return <b className='s'></b>\n            }\n            return <b></b>\n          })}\n        </p>\n      })}\n    </div>\n  },\n  use: ['map']\n})\n\n\n","class Snake {\n  constructor() {\n    this.body = [3, 1, 2, 1, 1, 1]\n    this.dir = 'right'\n  }\n\n  move(eating) {\n    const b = this.body\n    if (!eating) {\n      b.pop()\n      b.pop()\n    }\n\n    switch (this.dir) {\n      case 'up':\n        b.unshift(b[0], b[1] - 1)\n        break\n      case 'right':\n        b.unshift(b[0] + 1, b[1])\n        break\n      case 'down':\n        b.unshift(b[0], b[1] + 1)\n        break\n      case 'left':\n        b.unshift(b[0] - 1, b[1])\n        break\n      default:;\n\n    }\n  }\n\n  turnUp() {\n    if (this.dir !== 'down')\n      this.dir = 'up'\n  }\n  turnRight() {\n    if (this.dir !== 'left')\n      this.dir = 'right'\n  }\n  turnDown() {\n    if (this.dir !== 'up')\n      this.dir = 'down'\n  }\n  turnLeft() {\n    if (this.dir !== 'right')\n      this.dir = 'left'\n  }\n}\n\nexport default Snake","import Game from '../models/game'\n\nconst game = new Game()\nconst { snake, map } = game\n\ngame.start()\n\nclass Store {\n  data = {\n    map,\n    paused: false\n  }\n\n  turnUp() {\n    snake.turnUp()\n  }\n  \n  turnRight() {\n    snake.turnRight()\n  }\n\n  turnDown() {\n    snake.turnDown()\n  }\n\n  turnLeft() {\n    snake.turnLeft()\n  }\n\n  pauseOrPlay = () => {\n    if (game.paused) {\n      game.play()\n      this.data.paused = false\n    } else {\n      game.pause()\n      this.data.paused = true\n    }\n  }\n  reset() {\n    game.reset()\n  }\n\n  toggleSpeed() {\n    game.toggleSpeed()\n  }\n\n}\n\nexport default new Store()","import Snake from './snake'\n\nclass Game {\n  constructor() {\n    this.map = []\n    this.size = 16\n    this.loop = null\n    this.interval = 500\n    this.paused = false\n    this._preDate = Date.now()\n    this.init()\n    this.onTick = null\n  }\n\n  init() {\n\n    this.snake = new Snake()\n\n    for (let i = 0; i < this.size; i++) {\n      const row = []\n      for (let j = 0; j < this.size; j++) {\n        row.push(0)\n      }\n      this.map.push(row)\n    }\n  }\n\n  tick() {\n\n    this.makeFood()\n    const eating = this.eat()\n    this.snake.move(eating)\n    this.mark()\n\n  }\n\n  mark() {\n    const map = this.map\n    for (let i = 0; i < this.size; i++) {\n      for (let j = 0; j < this.size; j++) {\n        map[i][j] = 0\n      }\n    }\n\n    for (let k = 0, len = this.snake.body.length; k < len; k += 2) {\n      this.snake.body[k + 1] %= this.size\n      this.snake.body[k] %= this.size\n\n      if (this.snake.body[k + 1] < 0) this.snake.body[k + 1] += this.size\n      if (this.snake.body[k] < 0) this.snake.body[k] += this.size\n      map[this.snake.body[k + 1]][this.snake.body[k]] = 1\n    }\n    if (this.food) {\n      map[this.food[1]][this.food[0]] = 1\n    }\n  }\n\n  start() {\n    this.loop = setInterval(() => {\n      if (Date.now() - this._preDate > this.interval) {\n        this._preDate = Date.now()\n        if (!this.paused) {\n          this.tick()\n          this.onTick && this.onTick()\n        }\n      }\n    }, 16)\n  }\n\n  stop() {\n    clearInterval(this.loop)\n  }\n\n  pause() {\n    this.paused = true\n  }\n\n  play() {\n    this.paused = false\n  }\n\n  reset() {\n    this.paused = false\n    this.interval = 500\n    this.snake.body = [3, 1, 2, 1, 1, 1]\n    this.food = null\n    this.snake.dir = 'right'\n  }\n\n  toggleSpeed() {\n    this.interval === 500 ? (this.interval = 150) : (this.interval = 500)\n  }\n\n  makeFood() {\n    if (!this.food) {\n      this.food = [this._rd(0, this.size - 1), this._rd(0, this.size - 1)]\n      for (let k = 0, len = this.snake.body.length; k < len; k += 2) {\n        if (this.snake.body[k + 1] === this.food[1]\n          && this.snake.body[k] === this.food[0]) {\n          this.food = null\n          this.makeFood()\n          break\n        }\n\n      }\n    }\n  }\n\n  eat() {\n    for (let k = 0, len = this.snake.body.length; k < len; k += 2) {\n      if (this.snake.body[k + 1] === this.food[1]\n        && this.snake.body[k] === this.food[0]) {\n        this.food = null\n        return true\n      }\n    }\n  }\n\n  _rd(from, to) {\n    return from + Math.floor(Math.random() * (to + 1))\n  }\n}\n\nexport default Game","import React from 'react'\nimport Game from '../game'\n\nimport store from '../../stores/index'\nimport { $ } from '../../utils/omis'\nrequire('../../utils/css').add(require('./_index.css'))\n\n\nexport default $({\n  render() {\n    const { store } = $\n    const { paused } = store.data\n    return <div className=\"container\">\n      <h1>[P]REACT + OMIS SNAKE</h1>\n\n      <Game></Game>\n\n      <div className=\"ctrl\">\n        <div className=\"btn cm-btn cm-btn-dir up\" onClick={store.turnUp}><i></i><em></em><span>Up</span></div>\n        <div className=\"btn cm-btn cm-btn-dir down\" onClick={store.turnDown}><i></i><em></em><span>Down</span></div>\n        <div className=\"btn cm-btn cm-btn-dir left\" onClick={store.turnLeft}><i></i><em></em><span >Left</span></div>\n        <div className=\"btn cm-btn cm-btn-dir right\" onClick={store.turnRight}><i></i><em></em><span >Right</span></div>\n        <div className=\"btn cm-btn space\" onClick={store.toggleSpeed}><i></i><span >Gear</span></div>\n        <div className=\"btn reset small\" onClick={store.reset}><i ></i><span >Reset</span></div>\n        <div className=\"btn pp small\" onClick={store.pauseOrPlay}><i></i><span >{paused ? 'Play' : 'Pause'}</span></div>\n      </div>\n    </div>\n  },\n  useSelf: ['paused'],\n  store\n})\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Index from './components/index'\nimport './assets/index.css'\n\nReactDOM.render(<Index />, document.getElementById('root'))\n"],"sourceRoot":""}