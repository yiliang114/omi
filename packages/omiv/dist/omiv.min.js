!function(){"use strict";function t(t,r,o){var i=[];s(t)&&(0===t.length&&(t.S={T:t,U:"#"}),e(t,t));for(var a in t)t.hasOwnProperty(a)&&(o?s(r)&&u(r,a)?(i.push(a),n(t,a,null,t)):f(r)&&a===r&&(i.push(a),n(t,a,null,t)):(i.push(a),n(t,a,null,t)));t.V||(t.V=[]),t.V.push({all:!o,propChanged:o||r,eventPropArr:i})}function e(t,e){C.forEach(function(i){t[i]=function(){var t=Array.prototype.slice.call(this,0),s=Array.prototype[i].apply(this,Array.prototype.slice.call(arguments));if(RegExp("\\b"+i+"\\b").test(O)){for(var f in this)this.hasOwnProperty(f)&&!o(this[f])&&n(this,f,this.S.U,e);r("Array-"+i,this,t,this,this.S.U,e)}return s},t["pure"+i.substring(0,1).toUpperCase()+i.substring(1)]=function(){return Array.prototype[i].apply(this,Array.prototype.slice.call(arguments))}})}function n(t,r,i,f){if("__o_"!==r&&!o(t[r])){t.S||(t.S={T:f}),t.S.U=void 0!==i&&null!==i?i:"#";var u=t.S[r]=t[r];if("object"==typeof u){s(u)&&(e(u,f),0===u.length&&(u.S||(u.S={}),u.S.U=void 0!==i&&null!==i?i+"-"+r:"#-"+r));for(var a in u)u.hasOwnProperty(a)&&n(u,a,t.S.U+"-"+r,f)}}}function r(t,e,r,o,s,f){if(e!==r&&(!i(e)||!i(r))&&f.V)for(var c=a(t,s),p=0,h=f.V.length;p<h;p++){var l=f.V[p];(l.all||u(l.eventPropArr,c)||0===c.indexOf("Array-"))&&l.propChanged.call(o,t,e,r,s)}0!==t.indexOf("Array-")&&"object"==typeof e&&n(o,t,o.S.U,f)}function o(t){return"[object Function]"===Object.prototype.toString.call(t)}function i(t){return"number"==typeof t&&isNaN(t)}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function f(t){return"string"==typeof t}function u(t,e){for(var n=t.length;--n>-1;)if(e===t[n])return!0;return!1}function a(t,e){return"#"===e?t:e.split("-")[1]}function c(t,e,n){var r={};return t.forEach(function(t){if("string"==typeof t)r[t]=!0;else{var e=t[Object.keys(t)[0]];"string"==typeof e?r[e]=!0:"string"==typeof e[0]?r[e[0]]=!0:e[0].forEach(function(t){return r[t]=!0})}}),e&&(e[n]=r),r}function p(t,e){for(var n in t){if(e[n])return!0;for(var r in e)if(h(n,r))return!0}return!1}function h(t,e){if(0===t.indexOf(e)){var n=t.substr(e.length,1);if("["===n||"."===n)return!0}return!1}function l(t){var e="";return t.replace("#-","").split("-").forEach(function(t,n){n?isNaN(+t)?e+="."+t:e+="["+t+"]":e+=t}),e}function d(t){var e=t.beforeCreate,n=t.destroyed,r=t.use,o=t.useSelf;return t.computed=t.computed||{},t.store&&$(t.store),t.beforeCreate=function(){if(this.$store=U,A){if(r){var t={};for(var n in r)c(r[n],t,n),U[n].components.push(this);this.W=t}if(o){var i={};for(var s in o)c(o[s],i,s),U[s].updateSelfComponents.push(this);this.Y=i}}else r&&(this.W=c(r),U.components.push(this)),o&&(this.Y=c(o),U.updateSelfComponents.push(this));e&&e.apply(this,arguments)},t.destroyed=function(){if(A)for(var t in U)m(this,U[t].components),m(this,U[t].updateSelfComponents);else m(this,U.updateSelfComponents),m(this,U.components);n&&n.apply(this,arguments)},t.computed.state=function(){if(A){var t={};return Object.keys(U).forEach(function(e){t[e]=U[e].data}),t}return U.data},t.computed.store=function(){return U},t}function v(t){t.$forceUpdate(),t.$children.forEach(function(t){v(t)})}function y(e,n){e.components=[],e.updateSelfComponents=[],t(e.data,function(t,r,o,i){var s={};s[l(i+"-"+t)]=!0,e.components.forEach(function(t){var e=t.W;n?e&&e[n]&&p(s,e[n])&&v(t):e&&p(s,e)&&v(t)}),e.updateSelfComponents.forEach(function(t){var e=t.Y;n?e&&e[n]&&p(s,e[n])&&t.$forceUpdate():e&&p(s,e)&&t.$forceUpdate()})})}function m(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n]===t){e.splice(n,1);break}}function S(t,e,n,r){$(n),E?new E(Object.assign({render:function(e){return e(t)}},r,n?{store:n}:{})).$mount(e):"production"!==process.env.NODE_ENV&&console.error("[Omiv] has not been installed yet. Vue.use(Omiv) should be called first.")}function $(t){if(t)if(U=t,U.data)A=!1,y(U);else{A=!0;for(var e in U)U[e].data&&y(U[e],e)}else U=void 0}function b(t){E&&t===E?"production"!==process.env.NODE_ENV&&console.error("[omiv] already installed. Vue.use(Omiv) should be called only once."):(E=t,g(E))}function g(t){function e(){var t=this.$options,e=t.use,n=t.useSelf;if(t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store),this.$store&&!U&&$(this.$store),A){if(e){var r={};for(var o in e)c(e[o],r,o),this.$store[o].components.push(this);this.W=r}if(n){var i={};for(var s in n)c(n[s],i,s),this.$store[s].updateSelfComponents.push(this);this.Y=i}}else e&&(this.W=c(e),this.$store.components.push(this)),n&&(this.Y=c(n),this.$store.updateSelfComponents.push(this))}function n(){if(A)for(var t in this.$store)m(this,this.$store[t].components),m(this,this.$store[t].updateSelfComponents);else m(this,this.$store.updateSelfComponents),m(this,this.$store.components)}t.mixin({beforeCreate:e,computed:{$state:function(){if(A){var t={};return Object.keys(this.$store).forEach(function(e){t[e]=U[e].data}),t}return this.$store.data}},destroyed:n})}var O="concat,copyWithin,fill,pop,push,reverse,shift,sort,splice,unshift,size",C=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"];t.add=function(t,e){n(t,e,t.S.U,t.S.T)},t.set=function(t,e,r){n(t,e,t.S.U,t.S.T),t[e]=r},Array.prototype.size=function(t){this.length=t};var E,U,A=!1,j={$:d,render:S,reset:$,install:b};"undefined"!=typeof module?module.exports=j:self.Omiv=j}();
//# sourceMappingURL=omiv.min.js.map