{"version":3,"file":"omiv.dev.js","sources":["../src/obaa.js","../src/path.js","../src/vue.js","../src/omiv.js","../src/omiv.js"],"sourcesContent":["export function obaa(target, arr, callback) {\n  let eventPropArr = []\n  if (isArray(target)) {\n    if (target.length === 0) {\n      target.__o_ = {\n        __r_: target,\n        __p_: '#'\n      }\n    }\n    mock(target, target)\n  }\n  for (let prop in target) {\n    if (target.hasOwnProperty(prop)) {\n      if (callback) {\n        if (isArray(arr) && isInArray(arr, prop)) {\n          eventPropArr.push(prop)\n          watch(target, prop, null, target)\n        } else if (isString(arr) && prop === arr) {\n          eventPropArr.push(prop)\n          watch(target, prop, null, target)\n        }\n      } else {\n        eventPropArr.push(prop)\n        watch(target, prop, null, target)\n      }\n    }\n  }\n  if (!target.__c_) {\n    target.__c_ = []\n  }\n  let propChanged = callback ? callback : arr\n  target.__c_.push({\n    all: !callback,\n    propChanged,\n    eventPropArr\n  })\n}\n\nlet triggerStr = [\n  'concat',\n  'copyWithin',\n  'fill',\n  'pop',\n  'push',\n  'reverse',\n  'shift',\n  'sort',\n  'splice',\n  'unshift',\n  'size'\n].join(',')\n\nlet methods = [\n  'concat',\n  'copyWithin',\n  'entries',\n  'every',\n  'fill',\n  'filter',\n  'find',\n  'findIndex',\n  'forEach',\n  'includes',\n  'indexOf',\n  'join',\n  'keys',\n  'lastIndexOf',\n  'map',\n  'pop',\n  'push',\n  'reduce',\n  'reduceRight',\n  'reverse',\n  'shift',\n  'slice',\n  'some',\n  'sort',\n  'splice',\n  'toLocaleString',\n  'toString',\n  'unshift',\n  'values',\n  'size'\n]\n\nfunction mock(target, root) {\n  methods.forEach(item => {\n    target[item] = function() {\n      let old = Array.prototype.slice.call(this, 0)\n      let result = Array.prototype[item].apply(\n        this,\n        Array.prototype.slice.call(arguments)\n      )\n      if (new RegExp('\\\\b' + item + '\\\\b').test(triggerStr)) {\n        for (let cprop in this) {\n          if (this.hasOwnProperty(cprop) && !isFunction(this[cprop])) {\n            watch(this, cprop, this.__o_.__p_, root)\n          }\n        }\n        //todo\n        onPropertyChanged(\n          'Array-' + item,\n          this,\n          old,\n          this,\n          this.__o_.__p_,\n          root\n        )\n      }\n      return result\n    }\n    target[\n      'pure' + item.substring(0, 1).toUpperCase() + item.substring(1)\n    ] = function() {\n      return Array.prototype[item].apply(\n        this,\n        Array.prototype.slice.call(arguments)\n      )\n    }\n  })\n}\n\nfunction watch(target, prop, path, root) {\n  if (prop === '__o_') return\n  if (isFunction(target[prop])) return\n  if (!target.__o_)\n    target.__o_ = {\n      __r_: root\n    }\n  if (path !== undefined && path !== null) {\n    target.__o_.__p_ = path\n  } else {\n    target.__o_.__p_ = '#'\n  }\n\n  let currentValue = (target.__o_[prop] = target[prop])\n  Object.defineProperty(target, prop, {\n    get() {\n      return this.__o_[prop]\n    },\n    set(value) {\n      let old = this.__o_[prop]\n      this.__o_[prop] = value\n      onPropertyChanged(prop, value, old, this, target.__o_.__p_, root)\n    },\n    configurable: true,\n    enumerable: true\n  })\n  if (typeof currentValue === 'object') {\n    if (isArray(currentValue)) {\n      mock(currentValue, root)\n      if (currentValue.length === 0) {\n        if (!currentValue.__o_) currentValue.__o_ = {}\n        if (path !== undefined && path !== null) {\n          currentValue.__o_.__p_ = path + '-' + prop\n        } else {\n          currentValue.__o_.__p_ = '#-' + prop\n        }\n      }\n    }\n    for (let cprop in currentValue) {\n      if (currentValue.hasOwnProperty(cprop)) {\n        watch(currentValue, cprop, target.__o_.__p_ + '-' + prop, root)\n      }\n    }\n  }\n}\n\nfunction onPropertyChanged(prop, value, oldValue, target, path, root) {\n  if (value !== oldValue && !(nan(value) && nan(oldValue)) && root.__c_) {\n    let rootName = getRootName(prop, path)\n    for (let i = 0, len = root.__c_.length; i < len; i++) {\n      let handler = root.__c_[i]\n      if (\n        handler.all ||\n        isInArray(handler.eventPropArr, rootName) ||\n        rootName.indexOf('Array-') === 0\n      ) {\n        handler.propChanged.call(target, prop, value, oldValue, path)\n      }\n    }\n  }\n\n  if (prop.indexOf('Array-') !== 0 && typeof value === 'object') {\n    watch(target, prop, target.__o_.__p_, root)\n  }\n}\n\nfunction isFunction(obj) {\n  return Object.prototype.toString.call(obj) === '[object Function]'\n}\n\nfunction nan(value) {\n  return typeof value === 'number' && isNaN(value)\n}\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]'\n}\n\nfunction isString(obj) {\n  return typeof obj === 'string'\n}\n\nfunction isInArray(arr, item) {\n  for (let i = arr.length; --i > -1; ) {\n    if (item === arr[i]) return true\n  }\n  return false\n}\n\nfunction getRootName(prop, path) {\n  if (path === '#') {\n    return prop\n  }\n  return path.split('-')[1]\n}\n\nobaa.add = function(obj, prop) {\n  watch(obj, prop, obj.__o_.__p_, obj.__o_.__r_)\n}\n\nobaa.set = function(obj, prop, value) {\n  watch(obj, prop, obj.__o_.__p_, obj.__o_.__r_)\n  obj[prop] = value\n}\n\n//@ts-ignore\n/* eslint-disable */\nArray.prototype.size = function (length) {\n  this.length = length\n}\n","export function getUsing(data, paths) {\n  const obj = []\n  paths.forEach((path, index) => {\n    const isPath = typeof path === 'string'\n    if (isPath) {\n      obj[index] = getTargetByPath(data, path)\n    } else {\n      const key = Object.keys(path)[0]\n      const value = path[key]\n      if (typeof value === 'string') {\n        obj[index] = getTargetByPath(data, value)\n      } else {\n        const tempPath = value[0]\n        if (typeof tempPath === 'string') {\n          const tempVal = getTargetByPath(data, tempPath)\n          obj[index] = value[1] ? value[1](tempVal) : tempVal\n        } else {\n          const args = []\n          tempPath.forEach(path => {\n            args.push(getTargetByPath(data, path))\n          })\n          obj[index] = value[1].apply(null, args)\n        }\n      }\n      obj[key] = obj[index]\n    }\n  })\n  return obj\n}\n\nexport function getTargetByPath(origin, path) {\n  const arr = path\n    .replace(/]/g, '')\n    .replace(/\\[/g, '.')\n    .split('.')\n  let current = origin\n  for (let i = 0, len = arr.length; i < len; i++) {\n    current = current[arr[i]]\n  }\n  return current\n}\n\nexport function getPath(obj, out, name) {\n  const result = {}\n  obj.forEach(item => {\n    if (typeof item === 'string') {\n      result[item] = true\n    } else {\n      const tempPath = item[Object.keys(item)[0]]\n      if (typeof tempPath === 'string') {\n        result[tempPath] = true\n      } else if (typeof tempPath[0] === 'string') {\n        result[tempPath[0]] = true\n      } else {\n        tempPath[0].forEach(path => (result[path] = true))\n      }\n    }\n  })\n  out && (out[name] = result)\n  return result\n}\n\nexport function needUpdate(diffResult, updatePath) {\n  for (let keyA in diffResult) {\n    if (updatePath[keyA]) {\n      return true\n    }\n    for (let keyB in updatePath) {\n      if (includePath(keyA, keyB)) {\n        return true\n      }\n    }\n  }\n  return false\n}\n\nfunction includePath(pathA, pathB) {\n  if (pathA.indexOf(pathB) === 0) {\n    const next = pathA.substr(pathB.length, 1)\n    if (next === '[' || next === '.') {\n      return true\n    }\n  }\n  return false\n}\n\nexport function fixPath(path) {\n  let mpPath = ''\n  const arr = path.replace('#-', '').split('-')\n  arr.forEach((item, index) => {\n    if (index) {\n      if (isNaN(Number(item))) {\n        mpPath += '.' + item\n      } else {\n        mpPath += '[' + item + ']'\n      }\n    } else {\n      mpPath += item\n    }\n  })\n  return mpPath\n}\n","import { obaa } from './obaa'\nimport { getPath, needUpdate, fixPath } from './path'\n\nlet Vue\nlet store\nlet isMultiStore = false\n\nexport function $(options) {\n  const beforeCreate = options.beforeCreate\n  const destroyed = options.destroyed\n  const use = options.use\n  const useSelf = options.useSelf\n  options.computed = options.computed || {}\n\n  if (options.store) {\n    reset(options.store)\n  }\n\n  options.beforeCreate = function() {\n    this.$store = store\n    if (isMultiStore) {\n      if (use) {\n        let updatePath = {}\n        for (let storeName in use) {\n          getPath(use[storeName], updatePath, storeName)\n          store[storeName].components.push(this)\n        }\n        this.__$updatePath_ = updatePath\n      }\n\n      if (useSelf) {\n        let updateSelfPath = {}\n        for (let storeName in useSelf) {\n          getPath(useSelf[storeName], updateSelfPath, storeName)\n          store[storeName].updateSelfComponents.push(this)\n        }\n        this.__$updateSelfPath_ = updateSelfPath\n      }\n    } else {\n      if (use) {\n        this.__$updatePath_ = getPath(use)\n        store.components.push(this)\n      }\n      if (useSelf) {\n        this.__$updateSelfPath_ = getPath(useSelf)\n        store.updateSelfComponents.push(this)\n      }\n    }\n    beforeCreate && beforeCreate.apply(this, arguments)\n  }\n\n  options.destroyed = function() {\n    if (isMultiStore) {\n      for (let key in store) {\n        removeItem(this, store[key].components)\n        removeItem(this, store[key].updateSelfComponents)\n      }\n    } else {\n      removeItem(this, store.updateSelfComponents)\n      removeItem(this, store.components)\n    }\n\n    destroyed && destroyed.apply(this, arguments)\n  }\n\n  options.computed.state = function() {\n    if (isMultiStore) {\n      let state = {}\n      Object.keys(store).forEach(k => {\n        state[k] = store[k].data\n      })\n      return state\n    }\n    return store.data\n  }\n\n  options.computed.store = function() {\n    return store\n  }\n\n  return options\n}\n\nfunction recUpdate(root) {\n  root.$forceUpdate()\n  root.$children.forEach(child => {\n    recUpdate(child)\n  })\n}\n\nfunction observe(store, storeName) {\n  store.components = []\n  store.updateSelfComponents = []\n\n  obaa(store.data, (prop, val, old, path) => {\n    const patch = {}\n\n    patch[fixPath(path + '-' + prop)] = true\n    store.components.forEach(component => {\n      const p = component.__$updatePath_\n      if (storeName) {\n        if (p && p[storeName] && needUpdate(patch, p[storeName])) {\n          recUpdate(component)\n        }\n      } else if (p && needUpdate(patch, p)) {\n        recUpdate(component)\n      }\n    })\n\n    store.updateSelfComponents.forEach(component => {\n      const sp = component.__$updateSelfPath_\n      if (storeName) {\n        if (sp && sp[storeName] && needUpdate(patch, sp[storeName])) {\n          component.$forceUpdate()\n        }\n      } else if (sp && needUpdate(patch, sp)) {\n        component.$forceUpdate()\n      }\n    })\n  })\n}\n\nfunction removeItem(item, arr) {\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (arr[i] === item) {\n      arr.splice(i, 1)\n      break\n    }\n  }\n}\n\nexport function render(app, renderTo, store, options) {\n  reset(store)\n  if (!Vue) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line\n      console.error(\n        '[Omiv] has not been installed yet. Vue.use(Omiv) should be called first.'\n      )\n    }\n    return\n  }\n  new Vue(\n    Object.assign(\n      {\n        render: h => h(app)\n      },\n      options,\n      store ? { store } : {}\n    )\n  ).$mount(renderTo)\n}\n\nexport function reset(s) {\n  if (s) {\n    store = s\n    if (store.data) {\n      isMultiStore = false\n      observe(store)\n    } else {\n      isMultiStore = true\n      for (let key in store) {\n        if (store[key].data) {\n          observe(store[key], key)\n        }\n      }\n    }\n  } else {\n    // 为了测试用例正确执行的特殊处理，测试用例中多次执行 Omiv.render\n    // 导致 store 变量存储的是上一个用例的 store，使得再次调用 Omiv.render(Component, '#app')\n    // 不传 store 的时候，会被污染，导致用例执行异常。正常项目中应该不会走到这里的逻辑。\n    store = undefined\n  }\n}\n\nexport function install(_Vue) {\n  if (Vue && _Vue === Vue) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line\n      console.error(\n        '[omiv] already installed. Vue.use(Omiv) should be called only once.'\n      )\n    }\n    return\n  }\n  Vue = _Vue\n  applyMixin(Vue)\n}\n\nfunction applyMixin(Vue) {\n  const omivComputed = {\n    $state() {\n      if (isMultiStore) {\n        let state = {}\n        Object.keys(this.$store).forEach(k => {\n          state[k] = store[k].data\n        })\n        return state\n      }\n      return this.$store.data\n    }\n  }\n\n  function omivInit() {\n    const options = this.$options\n    const use = options.use\n    const useSelf = options.useSelf\n\n    // TODO: 可能要处理一下在不同地方注入多个 store ？\n\n    if (options.store) {\n      this.$store =\n        typeof options.store === 'function' ? options.store() : options.store\n    } else if (options.parent && options.parent.$store) {\n      this.$store = options.parent.$store\n    }\n\n    // 修复不是在 main.js 中注入 store 的问题\n    if (this.$store && !store) {\n      reset(this.$store)\n    }\n\n    if (isMultiStore) {\n      if (use) {\n        let updatePath = {}\n        for (let storeName in use) {\n          getPath(use[storeName], updatePath, storeName)\n          this.$store[storeName].components.push(this)\n        }\n        this.__$updatePath_ = updatePath\n      }\n\n      if (useSelf) {\n        let updateSelfPath = {}\n        for (let storeName in useSelf) {\n          getPath(useSelf[storeName], updateSelfPath, storeName)\n          this.$store[storeName].updateSelfComponents.push(this)\n        }\n        this.__$updateSelfPath_ = updateSelfPath\n      }\n    } else {\n      if (use) {\n        // { count: true }\n        this.__$updatePath_ = getPath(use)\n        // 依赖 store 的组件，压入了一个 vm 实例\n        this.$store.components.push(this)\n      }\n      if (useSelf) {\n        this.__$updateSelfPath_ = getPath(useSelf)\n        this.$store.updateSelfComponents.push(this)\n      }\n    }\n  }\n\n  function omivDestroyed() {\n    if (isMultiStore) {\n      for (let key in this.$store) {\n        removeItem(this, this.$store[key].components)\n        removeItem(this, this.$store[key].updateSelfComponents)\n      }\n    } else {\n      removeItem(this, this.$store.updateSelfComponents)\n      removeItem(this, this.$store.components)\n    }\n  }\n\n  Vue.mixin({\n    beforeCreate: omivInit,\n    computed: omivComputed,\n    destroyed: omivDestroyed\n  })\n}\n","import { $, render, reset, install } from './vue'\n\nexport default { $, render, reset, install }\n\nexport { $, render, reset, install }\n","\n\t\t\t\timport Omiv from './omiv';\n\t\t\t\tif (typeof module!='undefined') module.exports = Omiv;\n\t\t\t\telse self.Omiv = Omiv;\n\t\t\t"],"names":["obaa","target","arr","callback","eventPropArr","isArray","length","__o_","__r_","__p_","mock","prop","hasOwnProperty","isInArray","push","watch","isString","__c_","propChanged","all","triggerStr","join","methods","root","forEach","item","old","Array","prototype","slice","call","result","apply","arguments","RegExp","test","cprop","isFunction","onPropertyChanged","substring","toUpperCase","path","undefined","currentValue","Object","defineProperty","get","set","value","configurable","enumerable","oldValue","nan","rootName","getRootName","i","len","handler","indexOf","obj","toString","isNaN","split","add","size","getPath","out","name","tempPath","keys","needUpdate","diffResult","updatePath","keyA","keyB","includePath","pathA","pathB","next","substr","fixPath","mpPath","replace","index","Number","Vue","store","isMultiStore","$","options","beforeCreate","destroyed","use","useSelf","computed","reset","$store","storeName","components","__$updatePath_","updateSelfPath","updateSelfComponents","__$updateSelfPath_","key","removeItem","state","k","data","recUpdate","$forceUpdate","$children","child","observe","val","patch","p","component","sp","splice","render","app","renderTo","process","env","NODE_ENV","console","error","assign","h","$mount","s","install","_Vue","applyMixin","omivComputed","$state","omivInit","$options","parent","omivDestroyed","mixin","module","exports","Omiv","self"],"mappings":"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"}